# Discrete Mathematics



# 1.Combinatorics



## 1.1.Basic Counting Principles 

- The Multiplication Principle (MP) for Counting Procedures (or the Product Rule)

- The Addition Principle (AP) for Counting Procedures (or the Sum Rule)



## 1.2.Selections

**排列（Permutations）和组合（Combinations）** 是组合数学的两个核心概念，它们的主要区别在于**顺序是否重要**。

------

### 排列（Permutations）

**定义**

- **排列** 指的是从 **n** 个元素中选出 **r** 个，并且**考虑顺序**的安排方式。
- 例如，选 3 个人排成一排，A、B、C 和 B、A、C 是**不同**的排列。

**排列公式**

$P(n, r) = \frac{n!}{(n - r)!}$

其中：

- $n!$（n 的阶乘）表示从 **n** 个元素中选出所有元素的排列总数。
- $(n - r)!$ 代表未选择的元素的排列数。

**示例**

从 **5** 个人中选 **2** 个，并考虑顺序（比如选出队长和副队长），计算方式：

$P(5,2) = \frac{5!}{(5-2)!} = \frac{5!}{3!} = \frac{5 \times 4 \times 3!}{3!} = 5 \times 4 = 20$

**答案：** 共有 **20** 种不同的排列方式。

------

### 组合（Combinations）

**定义**

- **组合** 指的是从 **n** 个元素中选出 **r** 个，不考虑顺序的方式。
- 例如，选 3 个人组成一个小组，A、B、C 和 B、A、C 视为**相同**的组合。

**组合公式**

$C(n, r) = \frac{n!}{r!(n - r)!}$

与排列公式相比，组合公式**多除了一个 $r!$**，因为选择的顺序无关，因此需要除去重复的排列。

**示例**

从 **5** 个人中选 **2** 个，不考虑顺序，计算方式：

$C(5,2) = \frac{5!}{2!(5-2)!} = \frac{5!}{2! \times 3!} = \frac{5 \times 4}{2 \times 1} = 10$

**答案：** 共有 **10** 种不同的组合方式。

------

### 允许重复选择的组合（Combinations with Repetition）

- 在某些情况下，选取元素时**可以重复**（如选择糖果、点菜问题）。

- 计算方式不同，公式如下：
    $$
    C(n+r-1, r) = \frac{(n+r-1)!}{r!(n-1)!}
    $$

- 例如，有 4 种饮料，每次选 2 杯（可以重复选），共有：
    $$
    C(4+2-1, 2) = C(5,2) = \frac{5!}{2!(5-2)!} = 10
    $$
    **答案：** 有 **10** 种选择方式。





## 1.3.Binomial Coefficients and Combinatorial Identities



### Binomial Coefficients（二项式系数）

**定义：**

二项式系数（Binomial Coefficient）表示从 $n$ 个元素中选取 $r$ 个的方式数，通常用符号表示为：
$$
C(n, r) = \binom{n}{r} = \frac{n!}{r!(n-r)!}
$$
其中：

- $n!$（n 的阶乘）表示从 **n** 个元素中排列所有元素的方式数。
- $r!$ 由于选取顺序无关，因此需要除去重复排列的情况。
- $(n - r)!$ 处理未被选取的部分。



### Binomial Theorem（二项式定理）

**公式：**
$$
(a + b)^n = \sum_{r=0}^{n} C(n, r) a^{n-r} b^r
$$
其中：

- $C(n, r)$ 是组合数，表示选取 $r$ 项的方式数。

- 该公式用于展开二项式，如：
    $$
    (x + y)^3 = C(3,0)x^3y^0 + C(3,1)x^2y^1 + C(3,2)x^1y^2 + C(3,3)x^0y^3
    $$
    计算得：
    $$
    (x + y)^3 = x^3 + 3x^2y + 3xy^2 + y^3
    $$



### **Pascal’s Identity（帕斯卡恒等式）**

**1. 公式**

Pascal’s Identity（帕斯卡恒等式）是组合数学中的一个重要公式，用于计算二项式系数：
$$
C(n, r) = C(n-1, r-1) + C(n-1, r)
$$
其中：

- **左侧** $C(n, r)$ 代表从 **n** 个元素中选 **r** 个的方法数。
- **右侧第一项** $C(n-1, r-1)$ 代表**包含特定元素**的选取方式（选定某个特定元素后，从剩下的 $n-1$ 个元素中再选 $r-1$ 个）。
- **右侧第二项** $C(n-1, r)$ 代表**不包含该元素**的选取方式（完全从剩下的 $n-1$ 个元素中选 $r$ 个）。

**2. 证明**

##### **组合数的计数方法**

我们有 $n$ 个元素，要选 $r$ 个。假设固定选取一个特定元素 $A$：

- 如果选了 $A$，那么剩下的 $r-1$ 个必须从其余 $n-1$ 个元素中选，方式数为 $C(n-1, r-1)$。
- 如果没选 $A$，那么全部 $r$ 个必须从剩下的 $n-1$ 个元素中选，方式数为 $C(n-1, r)$。

这两种情况包含了所有可能的选法，因此：
$$
C(n, r) = C(n-1, r-1) + C(n-1, r)
$$


### **Vandermonde’s Identity（范德蒙德恒等式）**

**1. 公式**
$$
C(m+n, r) = \sum_{k=0}^{r} C(m, k) C(n, r-k)
$$
其中：

- $C(m+n, r)$ 是从 $m+n$ 个元素中选 $r$ 个的组合数。
- $C(m, k)$ 代表从 $m$ 个元素中选 $k$ 个的方法数。
- $C(n, r-k)$ 代表从 $n$ 个元素中选 $r-k$ 个的方法数。
- 右侧的求和表示所有可能的拆分情况。

##### **2. 直观理解**

Vandermonde’s Identity 说明：

- 假设有 **两组元素**：第一组有 **m** 个，第二组有 **n** 个。
- 我们想要从 **m + n** 个元素中选择 **r** 个。
- 选法可以拆分为：
    - **从第一组选 k 个**（方式数 $C(m, k)$）。
    - **从第二组选 r-k 个**（方式数 $C(n, r-k)$）。
    - 对所有可能的 $k$ 进行求和，即遍历所有可能的组合方式。





## 1.4.The Pigeonhole Principle

#### 1. 直观理解

鸽巢原理（Pigeonhole Principle）是一个简单但非常有用的组合数学原理。它的基本思想是：

> **如果有 $n$ 只鸽子放入 $m$ 个鸽巢，并且 $n > m$，那么至少有一个鸽巢里会有两只或更多的鸽子。**

换句话说：

- **当物品的数量超过容器的数量时，至少有一个容器会包含多于一个的物品。**

------

#### 2. 基本形式

**简单版**：
$$
\text{如果 } n > m, \text{ 则至少有一个鸽巢包含 } \left\lceil \frac{n}{m} \right\rceil \text{ 只鸽子。}
$$

- 例子：
    - **假设有 10 只鸽子要放入 9 个鸽巢**，那么至少有 **一个鸽巢** 里会有 **2 只鸽子**。
    - **假设有 100 名学生，分成 12 个月出生**，那么至少有一个月份会有 **至少 9 名学生**（因为 $\lceil 100 / 12 \rceil = 9$）。

------

#### 3. 强版（Generalized Pigeonhole Principle）

**扩展版**：
$$
\text{如果 } n > km, \text{ 那么至少有一个鸽巢包含 } k+1 \text{ 只鸽子。}
$$

- 例子：
    - **假设 31 个人被分配到 7 个不同的星期几出生**，那么至少有 **$\lceil 31/7 \rceil = 5$ 个人在同一天出生**。







